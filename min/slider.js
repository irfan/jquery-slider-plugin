(function(a){a.fn.slider=function(d){var f=a.extend(true,{},b,d),e=a(this);f.active=0;if(f.method=="flat"){e.bind("next.flat.slider",c.next.flat)}else{e.bind("next.circle.slider",c.next.circle)}e.bind("init.slider",c.init).bind("start.slider",c.start).bind("debug.slider",c.debug).trigger("init.slider",f)};var c={init:function(m,j){var h=a(m.target);ul=a("ul",h);j.el=h;if(j.showControls){h.append('<div id="sliderControl"><ol></ol></div>')}if(j.horizontal){ul.children().css("float","none")}else{var d=ul.children().length,l=ul.children(":first").width(),g=(d+1)*l;j.totalItem=d;j.slideSize=l;ul.width(g+"px")}if(j.showControls){var k='<li class="sliderActive" />';for(var f=0;f<(j.totalItem-1);f++){k=k+"<li />"}a("ol","#sliderControl").append(k)}h.data("slider",j);if(j.method=="circle"){ul.children(":first").clone().appendTo(ul)}if(j.auto){h.trigger("start.slider")}return},start:function(h){var d=a(h.target),g=d.data("slider"),f="next."+g.method+".slider";g.interval=setInterval(function(){d.trigger(f)},g.wait);d.data("slider",g)},next:{circle:function(i){var f=a(i.target),g=f.data("slider"),j="",h=g.duration,d=a("ul",g.el);if(g.active<g.totalItem){j=d.position().left-g.slideSize;d.animate({left:j},h);g.active=g.active+1}else{j="-"+g.slideSize;d.css("left","0px").animate({left:j},h);g.active=1}},flat:function(i){var f=a(i.target),g=f.data("slider"),j="",h=g.duration,d=a("ul",g.el);if(g.active<(g.totalItem-1)){j=d.position().left-g.slideSize;h=g.duration;g.active=g.active+1}else{j=d.position().left+(g.slideSize*(g.totalItem-1));h=g.duration*g.totalItem;g.active=0}d.animate({left:j},h)}},debug:function(f){console.group("slider debugging");var d=a(f.target).data("slider");a.each(d,function(g,e){console.log(g," : ",e)});console.groupEnd()}},b={method:"circle",auto:true,wait:3000,effect:"slide",duration:300,showControls:true,repeat:true,horizontal:false,}})(jQuery);