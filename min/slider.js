(function(d){d.fn.slider=function(i){var g=d.extend(true,{},e,i),h=d(this);g.totalItem=d(".sliderItems",h).children().length;if(g.totalItem<2){return}h.bind("init.slider",f.init).bind("start.slider",f.start).bind("debug.slider",f.debug).bind("prev.slider",f.prev).bind("stop.slider",f.stop).bind("next."+g.method+".slider",f.next[g.method]).trigger("init.slider",g)};function b(m,j){var h='<ul class="sliderControl">',k=0,g=j.totalItem;for(;k<g;k++){h+="<li />"}h+="</ul>";m.append(h)}function c(g){g.find(".sliderControl").children(":first").addClass("sliderActive")}function a(j,i){var g=d(".sliderControl",j).children(),h=j.find(".sliderControl"),k=h.children(":nth-child("+(i.active+1)+")");g.removeClass("sliderActive");if(k.length<1){k=h.find(":first-child")}k.addClass("sliderActive")}var f={init:function(k,h){var i=d(k.target),g=d(".sliderItems",i);if(h.horizontal==false){var l=g.children(":first").width(),j=(items+1)*l;h.slideSize=l;g.width(j+"px")}else{g.children().css("float","none")}i.data("slider",h);if(h.method=="circle"){g.children(":first").clone().appendTo(g)}if(h.showControls){b(i,h);c(i)}if(h.auto){i.trigger("start.slider")}return},start:function(i){var h=d(i.target),g=h.data("slider");i="next."+g.method+".slider";g.interval=setInterval(function(){h.trigger(i);a(h,g)},g.wait);h.data("slider",g)},next:{circle:function(j){var i=d(j.target),h=i.data("slider"),l="",k=h.duration,g=d(".sliderItems",i);if(h.active<h.totalItem){l=g.position().left-h.slideSize;g.animate({left:l},k);h.active=h.active+1}else{l="-"+h.slideSize;g.css("left","0px").animate({left:l},k);h.active=1}a(i,h)},flat:function(j){var i=d(j.target),h=i.data("slider"),l="",k=h.duration,g=d(".sliderItems",i);if(h.active<(h.totalItem-1)){l=g.position().left-h.slideSize;k=h.duration;h.active=h.active+1}else{l=g.position().left+(h.slideSize*(h.totalItem-1));k=h.duration*h.totalItem;h.active=0}g.animate({left:l},k)}},prev:function(g){},stop:function(i){var h=d(i.target),g=h.data("slider");clearInterval(g.interval);g.interval=false},_goto:function(g,h){},debug:function(h){console.group("slider debugging");var g=d(h.target).data("slider");d.each(g,function(k,j){console.log(k," : ",j)});console.groupEnd()}},e={method:"circle",auto:true,wait:3000,effect:"slide",duration:300,showControls:true,active:0,repeat:true,horizontal:false,}})(jQuery);