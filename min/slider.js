(function(a){a.fn.slider=function(d){var f=a.extend(true,{},b,d),e=a(this);if(f.method=="flat"){e.bind("next.flat.slider",c.next.flat)}else{e.bind("next.circle.slider",c.next.circle)}e.bind("init.slider",c.init).bind("start.slider",c.start).bind("debug.slider",c.debug).bind("prev.slider",c.prev).bind("stop.slider",c.stop).trigger("init.slider",f)};var c={init:function(k,d){var g=a(k.target);ul=a("ul",g);d.el=g;if(d.showControls){g.append('<div id="sliderControl"><ol></ol></div>')}if(d.horizontal){ul.children().css("float","none")}else{var o=ul.children().length,m=ul.children(":first").width(),f=(o+1)*m;d.totalItem=o;d.slideSize=m;ul.width(f+"px")}if(d.showControls){var n='<li class="sliderActive" />',j=0,h=d.totalItem-1;for(;j<h;j++){n=n+"<li />"}a("ol","#sliderControl").append(n)}g.data("slider",d);if(d.method=="circle"){ul.children(":first").clone().appendTo(ul)}if(d.auto){g.trigger("start.slider")}return},start:function(h){var d=a(h.target),g=d.data("slider"),f="next."+g.method+".slider";g.interval=setInterval(function(){d.trigger(f);a("li",d).removeClass("sliderActive");var e=a("li:nth-child("+(g.active+1)+")",d);if(e.length<1){e=a("li:first-child",d)}e.addClass("sliderActive")},g.wait);d.data("slider",g)},next:{circle:function(i){var f=a(i.target),g=f.data("slider"),j="",h=g.duration,d=a("ul",g.el);if(g.active<g.totalItem){j=d.position().left-g.slideSize;d.animate({left:j},h);g.active=g.active+1}else{j="-"+g.slideSize;d.css("left","0px").animate({left:j},h);g.active=1}},flat:function(i){var f=a(i.target),g=f.data("slider"),j="",h=g.duration,d=a("ul",g.el);if(g.active<(g.totalItem-1)){j=d.position().left-g.slideSize;h=g.duration;g.active=g.active+1}else{j=d.position().left+(g.slideSize*(g.totalItem-1));h=g.duration*g.totalItem;g.active=0}d.animate({left:j},h)}},prev:function(d){},stop:function(d){},_goto:function(d,f){},debug:function(f){console.group("slider debugging");var d=a(f.target).data("slider");a.each(d,function(g,e){console.log(g," : ",e)});console.groupEnd()}},b={method:"circle",auto:true,wait:3000,effect:"slide",duration:300,showControls:true,active:0,repeat:true,horizontal:false,}})(jQuery);